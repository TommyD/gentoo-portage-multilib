.TH "MAKE.CONF" "5" "Feb 2003" "Portage 2.0.47" "portage"
.SH "NAME"
make.conf \- custom settings for Portage
.SH "SYNOPSIS"
.B /etc/make.conf
.SH "DESCRIPTION"
This file contains various variables that are used by Portage.
Portage will check the currently\-defined environment variables
first for any settings.  If no environment settings are found,
Portage then checks /etc/make.conf.  If no setting is found
in /etc/make.conf, Portage checks /etc/make.globals. If no
setting is found there, the profile's default setting is grabbed
from /etc/make.profile/make.defaults. Please note that all user
settings should be made in the environment or in /etc/make.conf,
which is intended to be customized by the user.
.BR 
Exceptions are incremental variables such as USE, CONFIG_PROTECT*,
and ACCEPT_KEYWORDS.  Incremental variables are propagated down from
make.defaults to make.globals to make.conf to the environment
settings.  Clearing these variables requires a clear\-all as in:
export USE="\-*"
.SH "VARIABLES"
.TP
\fBACCEPT_KEYWORDS\fR = \fI[space delimited list of KEYWORDS]\fR
Enable testing of ebuilds that have not yet been deemed 'stable'.  Users
of the 'x86' architecture would set this to '~x86' while ppc users would
set this to '~ppc'. This is an incremental variable. Only define a ~arch.
.br
Defaults to the value of $ARCH.
.TP
\fBAUTOCLEAN\fR = \fI["yes" | "no"]\fR
Automatically cleans the system by removing outdated packages which will not
remove functionalities or prevent your system from working. On major ABI
changes this may need to be set to off to ensure that the system can be
rebuilt using the new libs before the old ones are removed. Downgrading with
this option turned off may result in missing symlinks and an inoperable system.
.br
Defaults to yes.
.TP
\fBBUILD_PREFIX\fR = \fI[path]\fR
Defines the location of the package working directory. 
.br
Defaults to ${PORTAGE_TMPDIR}/portage
.TP
\fBCBUILD\fR
This variable is passed by the \fIebuild scripts\fR to the \fIconfigure\fR
as \fI\-\-build=${CBUILD}\fR only if it is defined. Presently HPPA is the
only arch to require this.
.TP
\fBCFLAGS CXXFLAGS\fR 
Use these variables to set the desired optimization/CPU instruction settings
for applications that you compile.  Nearly all ebuild files will take advantage
of your custom settings, resulting in a Gentoo Linux that is fully customized
to your specifications.  Please use sane settings as some packages will fail to
compile/run if the optimizations are too extreme.

For more information:
.br
http://gcc.gnu.org/onlinedocs/gcc-3.2/gcc/Invoking-GCC.html
.br
http://gcc.gnu.org/onlinedocs/gcc-2.95.3/gcc_2.html
.TP
\fBCHOST\fR
This variable is passed by the \fIebuild scripts\fR to the \fIconfigure\fR
step as \fI\-\-host=${CHOST}\fR.  This way you can force the build\-host.

For more information:
.br
http://gcc.gnu.org/onlinedocs/gcc\-3.2/gcc/Submodel\-Options.html
.br
http://gcc.gnu.org/onlinedocs/gcc\-2.95.3/gcc_2.html
.TP
\fBCLEAN_DELAY\fR = \fIinteger\fR
Determines how long the countdown delay will be after running `emerge clean`.
.br
Defaults to 5 seconds.
.TP
\fBCONFIG_PROTECT\fR = \fI[space delimited list of dirs]\fR
All directories that are defined here will have "config file protection"
enabled for them.  For more information, please see `emerge --help config`.
.TP
\fBCONFIG_PROTECT_MASK\fR = \fI[space delimited list of dirs]\fR
All directories that are defined here will have "config file protection"
disabled for them.  For more information, please see `emerge --help config`.
.TP
\fBDEBUGBUILD\fR
If this is defined, binaries and libraries are not stripped before \fImerge\fR.
.TP
\fBDISTDIR\fR = \fI[path]\fR
Defines the location of your local source file repository.
.br
Defaults to ${PORTDIR}/distfiles.
.TP
\fBFEATURES\fR = \fI"buildpkg ccache cvs digest mirror noauto noclean sandbox"\fR
Defines actions portage takes by default.  These options should
not be changed by anyone but developers and/or maintainers.  'sandbox' is an important
part of \fBFEATURES\fR and should not be disabled by default.
.br
 
.br
\fIbuildpkg\fR: binary packages will always be generated.
.br
\fIccache\fR: enable portage support for the ccache package.
.br
\fIcvs\fR: enable auto-commit files after emerging a package.
.br
\fIdigest\fR: autogenerate a digest for packages. Auto-commit it if
\fIcvs\fR is enabled.
.br
\fIdistcc\fR: enable support for distcc.
.br
\fIkeeptemp\fR: Do not delete the ${T} directories when performing a clean.
.br
\fIkeepwork\fR: prevents the clean phase from deleting the $WORKDIR
.br
\fImirror\fR: cause \fBFETCHCOMMAND\fR to always be run even if
file exists in \fBDISTDIR\fR.
.br
\fInoauto\fR: when utilizing \fBebuild\fR(1), only run the function requested.
.br
\fInoclean\fR: do not clean out the build directory after finishing
merging the package.
.br
\fInostrip\fR: prevents the stripping of binaries
.br
\fInotitles\fR: disables xterm titlebar updates (which contain status info).
.br
\fIsandbox\fR: enable sandbox-ing when running \fBemerge\fR(1) and
\fBebuild(1)\fR.
.br
\fIuserpriv\fR: have portage drop root privledges and compile packages as
portage:portage without a sandbox unless \fIusersandbox\fR is enable also.
.br
\fIusersandbox\fR: enable sandbox in the compile phase, when running
without root privs (\fIuserpriv\fR).
.br

.TP
\fBFETCHCOMMAND\fR
This variable contains the command used for fetching package\-sources from
the internet.
.TP
\fBGENTOO_MIRRORS\fR = \fI[URLs]\fR
Insert your space-seperated list of local mirrors here.  These
locations are used to download files before the ones listed in
the \fIebuild scripts\fR. Merging 'mirrorselect' can help.
.TP
\fBMAKEOPTS\fR
Use this variable if you want to use parallel make.  For example, if you
have a dual\-processor system, set this variable to "\-j2" or "\-j3" for 
enhanced build performance with many packages. Suggested settings are
between \fICPUs+1\fR and \fI2*CPUs+1\fR.
For more information, see \fBmake\fR(1).
.TP
\fBNOCOLOR\fR = \fI["true" | "false"]\fR
Defines if color should be disabled by default.
.br
Defaults to false.
.TP
\fBPORT_LOGDIR\fR
This variable defines the directory in which per-ebuild logs are kept.
Logs are created only when this is set and writable.
.TP
\fBPORTAGE_NICENESS\fR = \fI[number]\fR
The value of this variable will be added to the current nice level that 
emerge is running at.  In other words, this will not set the nice level, 
it will increment it.  For more information about nice levels and what 
are acceptable ranges, see \fBnice\fR(1).
.TP
\fBPORTAGE_TMPDIR\fR = \fI[path]\fR
Defines the location of the temporary build directories.
.br
Defaults to /var/tmp.
.TP
\fBPKG_TMPDIR\fR = \fI[path]\fR
\fIemerge\fR uses this dir to extract a .tbz2 package before the
files get merged to the live filesystem.
.TP
\fBPKGDIR\fR = \fI[path]\fR
Defines the location where created .tbz2 binary packages will be stored.
.br
Defaults to ${PORTDIR}/packages.
.TP 
\fBPORTDIR\fR = \fI[path]\fR
Defines the location of your Portage tree.
.br
Defaults to /usr/portage. 
.TP
\fBPORTDIR_OVERLAY\fR = \fI"[path]:[another path]:[etc...]"\fR
Defines the directories in which user made ebuilds may be stored and not 
overwriten when `emerge sync` is run.  This is a : delimited list of 
directories.
.br
Defaults to no value.
.TP
\fBHTTP_PROXY FTP_PROXY\fR = \fI[host:port]\fR
These vars are used if the sources must be downloaded from the
internet by \fBwget\fR(1).  They are only required if you use a
proxy server for internet access.  Either define \fIPROXY\fR or
\fIPROXY_FTP\fR and \fIPROXY_HTTP\fR.
.TP
\fBRESUMECOMMAND\fR
This variable contains the command used for resuming package\-sources that
have been partially downloaded by the \fBFETCHCOMMAND\fR.
.TP
\fBROOT\fR = \fI[path]\fR
Use \fBROOT\fR to specify the target root filesystem to be used for
merging packages or ebuilds.  Typically, you should set this setting
in the environment rather than in /etc/make.conf itself.  It's
typically used for creating new build images.
.br
Defaults to /.
.TP
\fBRSYNC_RETRIES\fR = \fI[NUMBER]\fR
The number of times rsync should retry on failed connections before
giving up.
.br
Defaults to 3.
.TP
\fBRSYNC_TIMEOUT\fR = \fI[SECONDS]\fR
The number of seconds rsync should remain idle before it determines the
connection has timed out. Dialup users may need to set this value at or
above 300 seconds.
.br
Defaults to 180 seconds.
.TP
\fBRPMDIR\fR = \fI[path]\fR
Defines the location where created RPM packages will be stored.
.br
Defaults to ${PORTDIR}/rpm.
.TP
\fBSYNC\fR = \fI[RSYNC]\fR
Insert your list of local rsync mirrors here.  These rsync servers
are used to sync the local portage tree when `emerge rsync` is run.
.TP
\fBUSE\fR = \fI[space delimited list of USE items]\fR
This variable contains options that control the build behavior of several
packages.  More information in \fBebuild\fR(5).  Possible USE values
can be found in \fI/usr/portage/profiles/use.desc\fR..TP
.TP
\fBUSE_ORDER\fR = \fI"env:conf:auto:defaults"\fR
Determines precedence for incrementing the setting of the USE variable.
The above setting will cause the environment (env) to override make.conf
(conf) to override auto generated values from merged packages (auto) to
override make.defaults (defaults).
.br
\fB***warning***\fR
.br
Do not modify this value unless you're a developer and you know what
you're doing. If you change this and something breaks, we will not help
you fix it.
.br
Defaults to "env:conf:auto:defaults".

.SH "REPORTING BUGS"
Please report bugs via http://bugs.gentoo.org/
.SH "SEE ALSO"
.BR ebuild (1),
.BR ebuild (5)
.TP
The \fI/usr/sbin/ebuild.sh\fR script. 
.TP
The helper apps in \fI/usr/lib/portage/bin\fR.
.SH "FILES"
.TP
\fB/etc/make.conf\fR 
Contains variables for the build\-process and overwrites those in make.defaults.
.TP
\fB/etc/make.globals\fR 
Contains the default variables for the build\-process, you should edit \fI/etc/make.conf\fR instead.
.TP
\fB/usr/portage/profiles/use.desc\fR
Contains an extensive list of all possible USE variables.
.SH "AUTHORS"
Daniel Robbins <drobbins@gentoo.org>
.br
Nicholas Jones <carpaski@gentoo.org>
.br
Mike Frysinger <vapier@gentoo.org>
.SH "CVS HEADER"
$Header$
